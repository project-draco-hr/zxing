def get_factory(self, factory, default='File'):
    'Return a factory function for creating Nodes for this\n        construction environment.\n        '
    name = default
    try:
        is_node = issubclass(factory, SCons.Node.FS.Base)
    except TypeError:
        pass
    else:
        if is_node:
            try:
                name = factory.__name__
            except AttributeError:
                pass
            else:
                factory = None
    if (not factory):
        factory = getattr(self.fs, name)
    return factory
