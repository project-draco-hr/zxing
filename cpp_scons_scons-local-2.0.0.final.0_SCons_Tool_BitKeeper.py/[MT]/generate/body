def generate(env):
    'Add a Builder factory function and construction variables for\n    BitKeeper to an Environment.'

    def BitKeeperFactory(env=env):
        ' '
        import SCons.Warnings as W
        W.warn(W.DeprecatedSourceCodeWarning, 'The BitKeeper() factory is deprecated and there is no replacement.')
        act = SCons.Action.Action('$BITKEEPERCOM', '$BITKEEPERCOMSTR')
        return SCons.Builder.Builder(action=act, env=env)
    env.BitKeeper = BitKeeperFactory
    env['BITKEEPER'] = 'bk'
    env['BITKEEPERGET'] = '$BITKEEPER get'
    env['BITKEEPERGETFLAGS'] = SCons.Util.CLVar('')
    env['BITKEEPERCOM'] = '$BITKEEPERGET $BITKEEPERGETFLAGS $TARGET'
