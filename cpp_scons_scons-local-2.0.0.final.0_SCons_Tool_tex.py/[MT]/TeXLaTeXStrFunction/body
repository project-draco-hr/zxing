def TeXLaTeXStrFunction(target=None, source=None, env=None):
    'A strfunction for TeX and LaTeX that scans the source file to\n    decide the "flavor" of the source and then returns the appropriate\n    command string.'
    if env.GetOption('no_exec'):
        basedir = os.path.split(str(source[0]))[0]
        abspath = os.path.abspath(basedir)
        if is_LaTeX(source, env, abspath):
            result = (env.subst('$LATEXCOM', 0, target, source) + ' ...')
        else:
            result = (env.subst('$TEXCOM', 0, target, source) + ' ...')
    else:
        result = ''
    return result
