def generate_common(env):
    'Add internal Builders and construction variables for LaTeX to an Environment.'
    global TeXAction
    if (TeXAction is None):
        TeXAction = SCons.Action.Action('$TEXCOM', '$TEXCOMSTR')
    global LaTeXAction
    if (LaTeXAction is None):
        LaTeXAction = SCons.Action.Action('$LATEXCOM', '$LATEXCOMSTR')
    global BibTeXAction
    if (BibTeXAction is None):
        BibTeXAction = SCons.Action.Action('$BIBTEXCOM', '$BIBTEXCOMSTR')
    global MakeIndexAction
    if (MakeIndexAction is None):
        MakeIndexAction = SCons.Action.Action('$MAKEINDEXCOM', '$MAKEINDEXCOMSTR')
    global MakeNclAction
    if (MakeNclAction is None):
        MakeNclAction = SCons.Action.Action('$MAKENCLCOM', '$MAKENCLCOMSTR')
    global MakeGlossaryAction
    if (MakeGlossaryAction is None):
        MakeGlossaryAction = SCons.Action.Action('$MAKEGLOSSARYCOM', '$MAKEGLOSSARYCOMSTR')
    global MakeAcronymsAction
    if (MakeAcronymsAction is None):
        MakeAcronymsAction = SCons.Action.Action('$MAKEACRONYMSCOM', '$MAKEACRONYMSCOMSTR')
    env['TEX'] = 'tex'
    env['TEXFLAGS'] = SCons.Util.CLVar('-interaction=nonstopmode -recorder')
    env['TEXCOM'] = 'cd ${TARGET.dir} && $TEX $TEXFLAGS ${SOURCE.file}'
    env['PDFTEX'] = 'pdftex'
    env['PDFTEXFLAGS'] = SCons.Util.CLVar('-interaction=nonstopmode -recorder')
    env['PDFTEXCOM'] = 'cd ${TARGET.dir} && $PDFTEX $PDFTEXFLAGS ${SOURCE.file}'
    env['LATEX'] = 'latex'
    env['LATEXFLAGS'] = SCons.Util.CLVar('-interaction=nonstopmode -recorder')
    env['LATEXCOM'] = 'cd ${TARGET.dir} && $LATEX $LATEXFLAGS ${SOURCE.file}'
    env['LATEXRETRIES'] = 3
    env['PDFLATEX'] = 'pdflatex'
    env['PDFLATEXFLAGS'] = SCons.Util.CLVar('-interaction=nonstopmode -recorder')
    env['PDFLATEXCOM'] = 'cd ${TARGET.dir} && $PDFLATEX $PDFLATEXFLAGS ${SOURCE.file}'
    env['BIBTEX'] = 'bibtex'
    env['BIBTEXFLAGS'] = SCons.Util.CLVar('')
    env['BIBTEXCOM'] = 'cd ${TARGET.dir} && $BIBTEX $BIBTEXFLAGS ${SOURCE.filebase}'
    env['MAKEINDEX'] = 'makeindex'
    env['MAKEINDEXFLAGS'] = SCons.Util.CLVar('')
    env['MAKEINDEXCOM'] = 'cd ${TARGET.dir} && $MAKEINDEX $MAKEINDEXFLAGS ${SOURCE.file}'
    env['MAKEGLOSSARY'] = 'makeindex'
    env['MAKEGLOSSARYSTYLE'] = '${SOURCE.filebase}.ist'
    env['MAKEGLOSSARYFLAGS'] = SCons.Util.CLVar('-s ${MAKEGLOSSARYSTYLE} -t ${SOURCE.filebase}.glg')
    env['MAKEGLOSSARYCOM'] = 'cd ${TARGET.dir} && $MAKEGLOSSARY ${SOURCE.filebase}.glo $MAKEGLOSSARYFLAGS -o ${SOURCE.filebase}.gls'
    env['MAKEACRONYMS'] = 'makeindex'
    env['MAKEACRONYMSSTYLE'] = '${SOURCE.filebase}.ist'
    env['MAKEACRONYMSFLAGS'] = SCons.Util.CLVar('-s ${MAKEACRONYMSSTYLE} -t ${SOURCE.filebase}.alg')
    env['MAKEACRONYMSCOM'] = 'cd ${TARGET.dir} && $MAKEACRONYMS ${SOURCE.filebase}.acn $MAKEACRONYMSFLAGS -o ${SOURCE.filebase}.acr'
    env['MAKENCL'] = 'makeindex'
    env['MAKENCLSTYLE'] = 'nomencl.ist'
    env['MAKENCLFLAGS'] = '-s ${MAKENCLSTYLE} -t ${SOURCE.filebase}.nlg'
    env['MAKENCLCOM'] = 'cd ${TARGET.dir} && $MAKENCL ${SOURCE.filebase}.nlo $MAKENCLFLAGS -o ${SOURCE.filebase}.nls'
