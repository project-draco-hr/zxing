{
  int length=value.length();
  StringBuffer result=new StringBuffer(length);
  boolean lastWasLF=false;
  for (int i=0; i < length; i++) {
    if (lastWasLF) {
      lastWasLF=false;
      continue;
    }
    char c=value.charAt(i);
    lastWasLF=false;
switch (c) {
case '\n':
      lastWasLF=true;
    break;
case '\r':
  break;
default :
result.append(c);
}
}
return result.toString();
}
