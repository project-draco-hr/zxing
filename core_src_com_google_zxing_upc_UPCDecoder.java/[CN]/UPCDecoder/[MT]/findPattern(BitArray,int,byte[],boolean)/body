{
  int patternLength=pattern.length;
  int[] counters=new int[patternLength];
  int width=this.width;
  boolean isWhite=false;
  while (rowOffset < width) {
    isWhite=!rowData.get(rowOffset);
    if (whiteFirst == isWhite) {
      break;
    }
    rowOffset++;
  }
  int counterPosition=0;
  for (int x=rowOffset; x < width; x++) {
    boolean pixel=rowData.get(x);
    if ((!pixel && isWhite) || (pixel && !isWhite)) {
      counters[counterPosition]++;
    }
 else {
      if (counterPosition == patternLength - 1) {
        if (doesPatternMatch(counters,pattern)) {
          return x;
        }
        for (int y=2; y < patternLength; y++) {
          counters[y - 2]=counters[y];
        }
        counterPosition--;
      }
 else {
        counterPosition++;
      }
      counters[counterPosition]=1;
      isWhite=!isWhite;
    }
  }
  return -1;
}
