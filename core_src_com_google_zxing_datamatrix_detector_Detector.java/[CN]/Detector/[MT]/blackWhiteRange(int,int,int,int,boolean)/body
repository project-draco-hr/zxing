{
  int center=(minDim + maxDim) / 2;
  BitArray rowOrColumn=horizontal ? image.getBlackRow(fixedDimension,null,0,image.getWidth()) : image.getBlackColumn(fixedDimension,null,0,image.getHeight());
  int start=center;
  while (start >= minDim) {
    if (rowOrColumn.get(start)) {
      start--;
    }
 else {
      int whiteRunStart=start;
      do {
        start--;
      }
 while (start >= minDim && !rowOrColumn.get(start));
      int whiteRunSize=whiteRunStart - start;
      if (start < minDim || whiteRunSize > maxWhiteRun) {
        start=whiteRunStart + 1;
        break;
      }
    }
  }
  int end=center;
  while (end < maxDim) {
    if (rowOrColumn.get(end)) {
      end++;
    }
 else {
      int whiteRunStart=end;
      do {
        end++;
      }
 while (end < maxDim && !rowOrColumn.get(end));
      int whiteRunSize=end - whiteRunStart;
      if (end >= maxDim || whiteRunSize > maxWhiteRun) {
        end=whiteRunStart - 1;
        break;
      }
    }
  }
  if (end > start) {
    return new int[]{start,end};
  }
 else {
    return null;
  }
}
