{
  if (codeword == 0) {
    return -1;
  }
  int barNumber=0;
  boolean blackBar=true;
  int clusterNumber=0;
  for (int i=0; i < MODULES_IN_SYMBOL; i++) {
    if ((codeword & (1 << i)) > 0) {
      if (!blackBar) {
        blackBar=true;
        barNumber++;
      }
      if (barNumber % 2 == 0) {
        clusterNumber++;
      }
 else {
        clusterNumber--;
      }
    }
 else {
      if (blackBar) {
        blackBar=false;
      }
    }
  }
  return (clusterNumber + 9) % 9;
}
