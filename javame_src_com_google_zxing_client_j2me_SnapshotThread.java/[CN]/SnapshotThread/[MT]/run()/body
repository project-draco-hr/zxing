{
  try {
    zXingMIDlet.getPlayer().stop();
    byte[] snapshot=zXingMIDlet.getVideoControl().getSnapshot(null);
    Image capturedImage=Image.createImage(snapshot,0,snapshot.length);
    MonochromeBitmapSource source=new LCDUIImageMonochromeBitmapSource(capturedImage);
    Reader reader=new MultiFormatReader();
    Result result=reader.decode(source);
    zXingMIDlet.handleDecodedText(result.getText());
  }
 catch (  ReaderException re) {
    zXingMIDlet.showError(re);
  }
catch (  MediaException me) {
    zXingMIDlet.showError(me);
  }
catch (  Throwable t) {
    zXingMIDlet.showError(t);
  }
 finally {
    try {
      zXingMIDlet.getPlayer().start();
    }
 catch (    MediaException me) {
      zXingMIDlet.showError(me);
    }
    currentThread=null;
  }
}
