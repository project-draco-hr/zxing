{
  DataMatrixWriter writer=new DataMatrixWriter();
  Map<EncodeHintType,Object> hints=new EnumMap<EncodeHintType,Object>(EncodeHintType.class);
  hints.put(EncodeHintType.DATA_MATRIX_SHAPE,SymbolShapeHint.FORCE_SQUARE);
  int bigEnough=64;
  BitMatrix matrix=writer.encode("Hello Google",BarcodeFormat.DATA_MATRIX,bigEnough,bigEnough,hints);
  assertNotNull(matrix);
  assertTrue(bigEnough >= matrix.getWidth());
  assertTrue(bigEnough >= matrix.getHeight());
}
