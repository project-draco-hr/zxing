{
  int dim=5 * resolution / 8;
  if (dim < hardMin) {
    return hardMin;
  }
  if (dim > hardMax) {
    return hardMax;
  }
  return dim;
}
