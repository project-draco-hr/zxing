{
  Camera theCamera=camera;
  if (theCamera == null) {
    theCamera=Camera.open();
    if (theCamera == null) {
      throw new IOException();
    }
    camera=theCamera;
  }
  theCamera.setPreviewDisplay(holder);
  if (!initialized) {
    initialized=true;
    configManager.initFromCameraParameters(theCamera);
    if (requestedFramingRectWidth > 0 && requestedFramingRectHeight > 0) {
      setManualFramingRect(requestedFramingRectWidth,requestedFramingRectHeight);
      requestedFramingRectWidth=0;
      requestedFramingRectHeight=0;
    }
  }
  configManager.setDesiredCameraParameters(theCamera);
}
