def __call__(self, env, *args, **kw):
    if (self.init_kw is not None):
        if (kw is not None):
            call_kw = kw
            kw = self.init_kw.copy()
            kw.update(call_kw)
        else:
            kw = self.init_kw
    env.Append(TOOLS=[self.name])
    if hasattr(self, 'options'):
        import SCons.Variables
        if ('options' not in env):
            from SCons.Script import ARGUMENTS
            env['options'] = SCons.Variables.Variables(args=ARGUMENTS)
        opts = env['options']
        self.options(opts)
        opts.Update(env)
    self.generate(env, *args, **kw)
