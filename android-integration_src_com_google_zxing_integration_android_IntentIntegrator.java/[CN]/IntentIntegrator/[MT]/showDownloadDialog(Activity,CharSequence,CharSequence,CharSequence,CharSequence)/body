{
  AlertDialog.Builder downloadDialog=new AlertDialog.Builder(activity);
  downloadDialog.setTitle(stringTitle);
  downloadDialog.setMessage(stringMessage);
  downloadDialog.setPositiveButton(stringButtonYes,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialogInterface,    int i){
      Uri uri=Uri.parse("market://search?q=pname:" + PACKAGE);
      Intent intent=new Intent(Intent.ACTION_VIEW,uri);
      try {
        activity.startActivity(intent);
      }
 catch (      ActivityNotFoundException anfe) {
        Log.w(TAG,"Android Market is not installed; cannot install Barcode Scanner");
      }
    }
  }
);
  downloadDialog.setNegativeButton(stringButtonNo,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialogInterface,    int i){
    }
  }
);
  return downloadDialog.show();
}
