{
  String rawText=result.getText();
  if (rawText == null || (!rawText.startsWith("geo:") && !rawText.startsWith("GEO:"))) {
    return null;
  }
  int queryStart=rawText.indexOf('?',4);
  String geoURIWithoutQuery;
  if (queryStart < 0) {
    geoURIWithoutQuery=rawText.substring(4);
  }
 else {
    geoURIWithoutQuery=rawText.substring(4,queryStart);
  }
  int latitudeEnd=geoURIWithoutQuery.indexOf(',');
  if (latitudeEnd < 0) {
    return null;
  }
  double latitude=Double.parseDouble(geoURIWithoutQuery.substring(0,latitudeEnd));
  int longitudeEnd=geoURIWithoutQuery.indexOf(',',latitudeEnd + 1);
  double longitude;
  double altitude;
  if (longitudeEnd < 0) {
    longitude=Double.parseDouble(geoURIWithoutQuery.substring(latitudeEnd + 1));
    altitude=0.0;
  }
 else {
    longitude=Double.parseDouble(geoURIWithoutQuery.substring(latitudeEnd + 1,longitudeEnd));
    altitude=Double.parseDouble(geoURIWithoutQuery.substring(longitudeEnd + 1));
  }
  return new GeoParsedResult(rawText,latitude,longitude,altitude);
}
