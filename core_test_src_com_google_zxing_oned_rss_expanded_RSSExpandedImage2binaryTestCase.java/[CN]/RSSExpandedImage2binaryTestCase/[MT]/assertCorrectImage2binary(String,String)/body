{
  RSSExpandedReader rssExpandedReader=new RSSExpandedReader();
  File file=new File(path);
  if (!file.exists()) {
    file=new File("core",path);
  }
  BufferedImage image=ImageIO.read(file);
  BinaryBitmap binaryMap=new BinaryBitmap(new GlobalHistogramBinarizer(new BufferedImageLuminanceSource(image)));
  int rowNumber=binaryMap.getHeight() / 2;
  BitArray row=binaryMap.getBlackRow(rowNumber,null);
  List<ExpandedPair> pairs=rssExpandedReader.decodeRow2pairs(rowNumber,row);
  BitArray binary=BitArrayBuilder.buildBitArray(pairs);
  assertEquals(expected,binary.toString());
}
