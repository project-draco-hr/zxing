{
  super.onCreate(icicle);
  requestWindowFeature(Window.FEATURE_NO_TITLE);
  Window window=getWindow();
  window.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);
  window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);
  mGetCameraParameters=getIntent().getBooleanExtra(GET_CAMERA_PARAMETERS,false);
  if (mGetCameraParameters) {
    setContentView(R.layout.camera_parameters);
  }
 else {
    setContentView(R.layout.camera_test);
  }
  CameraManager.init(getApplication());
  SurfaceView surfaceView=(SurfaceView)findViewById(R.id.preview_view);
  SurfaceHolder surfaceHolder=surfaceView.getHolder();
  surfaceHolder.addCallback(this);
  surfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
}
