{
  if (row == null) {
    row=new BitArray(getWidth);
  }
 else {
    row.clear();
  }
  int[] pixelRow=new int[getWidth];
  image.getPixels(pixelRow,0,getWidth,startX,y,getWidth,1);
  for (int i=0; i < getWidth; i++) {
    if (((pixelRow[i] >> 16) & 0xFF) < blackPoint) {
      row.set(i);
    }
  }
  return row;
}
