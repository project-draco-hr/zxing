{
  File inputFile=new File(argument);
  if (inputFile.exists()) {
    if (inputFile.isDirectory()) {
      int successful=0;
      int total=0;
      for (      File input : inputFile.listFiles()) {
        String filename=input.getName().toLowerCase();
        if (filename.startsWith(".") || filename.endsWith(".txt")) {
          continue;
        }
        Result result=decode(input.toURI(),hints);
        if (result != null) {
          successful++;
          if (dumpResults) {
            String name=input.getAbsolutePath();
            int pos=name.lastIndexOf('.');
            if (pos > 0) {
              name=name.substring(0,pos);
            }
            File dump=new File(name + ".txt");
            dump.createNewFile();
            FileOutputStream stream=new FileOutputStream(dump);
            stream.write(result.getText().getBytes());
            stream.close();
          }
        }
        total++;
      }
      System.out.println("\nDecoded " + successful + " files out of "+ total+ " successfully ("+ (successful * 100 / total)+ "%)\n");
    }
 else {
      decode(inputFile.toURI(),hints);
    }
  }
 else {
    decode(new URI(argument),hints);
  }
}
