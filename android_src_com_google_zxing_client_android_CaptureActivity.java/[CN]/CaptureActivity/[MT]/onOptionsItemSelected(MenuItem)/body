{
switch (item.getItemId()) {
case SHARE_ID:
{
      Intent intent=new Intent(Intent.ACTION_VIEW);
      intent.setClassName(this,ShareActivity.class.getName());
      startActivity(intent);
      break;
    }
case HISTORY_ID:
{
    AlertDialog historyAlert=historyManager.buildAlert();
    historyAlert.show();
    break;
  }
case SETTINGS_ID:
{
  Intent intent=new Intent(Intent.ACTION_VIEW);
  intent.setClassName(this,PreferencesActivity.class.getName());
  startActivity(intent);
  break;
}
case HELP_ID:
{
Intent intent=new Intent(Intent.ACTION_VIEW);
intent.setClassName(this,HelpActivity.class.getName());
startActivity(intent);
break;
}
case ABOUT_ID:
AlertDialog.Builder builder=new AlertDialog.Builder(this);
builder.setTitle(getString(R.string.title_about) + versionName);
builder.setMessage(getString(R.string.msg_about) + "\n\n" + getString(R.string.zxing_url));
builder.setIcon(R.drawable.zxing_icon);
builder.setPositiveButton(R.string.button_open_browser,aboutListener);
builder.setNegativeButton(R.string.button_cancel,null);
builder.show();
break;
}
return super.onOptionsItemSelected(item);
}
