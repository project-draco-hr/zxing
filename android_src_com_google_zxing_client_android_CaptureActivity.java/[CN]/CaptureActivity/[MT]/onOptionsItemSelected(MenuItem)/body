{
  Intent intent=new Intent(Intent.ACTION_VIEW);
  intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);
switch (item.getItemId()) {
case SHARE_ID:
    intent.setClassName(this,ShareActivity.class.getName());
  startActivity(intent);
break;
case HISTORY_ID:
intent=new Intent(Intent.ACTION_VIEW);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);
intent.setClassName(this,HistoryActivity.class.getName());
startActivityForResult(intent,HISTORY_REQUEST_CODE);
break;
case SETTINGS_ID:
intent.setClassName(this,PreferencesActivity.class.getName());
startActivity(intent);
break;
case HELP_ID:
intent.setClassName(this,HelpActivity.class.getName());
startActivity(intent);
break;
case ABOUT_ID:
AlertDialog.Builder builder=new AlertDialog.Builder(this);
builder.setTitle(getString(R.string.title_about) + versionName);
builder.setMessage(getString(R.string.msg_about) + "\n\n" + getString(R.string.zxing_url));
builder.setIcon(R.drawable.launcher_icon);
builder.setPositiveButton(R.string.button_open_browser,aboutListener);
builder.setNegativeButton(R.string.button_cancel,null);
builder.show();
break;
default :
return super.onOptionsItemSelected(item);
}
return true;
}
