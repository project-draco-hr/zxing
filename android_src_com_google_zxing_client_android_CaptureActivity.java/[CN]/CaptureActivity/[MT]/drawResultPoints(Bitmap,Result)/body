{
  ResultPoint[] points=rawResult.getResultPoints();
  if (points != null && points.length > 0) {
    Canvas canvas=new Canvas(barcode);
    Paint paint=new Paint();
    paint.setColor(getResources().getColor(R.color.result_image_border));
    paint.setStrokeWidth(3.0f);
    paint.setStyle(Paint.Style.STROKE);
    Rect border=new Rect(2,2,barcode.getWidth() - 2,barcode.getHeight() - 2);
    canvas.drawRect(border,paint);
    paint.setColor(getResources().getColor(R.color.result_points));
    if (points.length == 2) {
      paint.setStrokeWidth(4.0f);
      drawLine(canvas,paint,points[0],points[1]);
    }
 else     if (points.length == 4 && (rawResult.getBarcodeFormat().equals(BarcodeFormat.UPC_A)) || (rawResult.getBarcodeFormat().equals(BarcodeFormat.EAN_13))) {
      drawLine(canvas,paint,points[0],points[1]);
      drawLine(canvas,paint,points[2],points[3]);
    }
 else {
      paint.setStrokeWidth(10.0f);
      for (      ResultPoint point : points) {
        canvas.drawPoint(point.getX(),point.getY(),paint);
      }
    }
  }
}
