{
  lastResult=rawResult;
  historyManager.addHistoryItem(rawResult);
  if (barcode == null) {
    handleDecodeInternally(rawResult,null);
  }
 else {
    playBeepSoundAndVibrate();
    drawResultPoints(barcode,rawResult);
switch (source) {
case NATIVE_APP_INTENT:
case PRODUCT_SEARCH_LINK:
      handleDecodeExternally(rawResult,barcode);
    break;
case ZXING_LINK:
case NONE:
  handleDecodeInternally(rawResult,barcode);
break;
}
}
}
