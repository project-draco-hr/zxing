{
  Vector results=new Vector();
  DetectorResult[] detectorResult=new MultiDetector(image.getBlackMatrix()).detectMulti(hints);
  for (int i=0; i < detectorResult.length; i++) {
    try {
      DecoderResult decoderResult=getDecoder().decode(detectorResult[i].getBits());
      ResultPoint[] points=detectorResult[i].getPoints();
      Result result=new Result(decoderResult.getText(),decoderResult.getRawBytes(),points,BarcodeFormat.QR_CODE);
      Vector byteSegments=decoderResult.getByteSegments();
      if (byteSegments != null) {
        result.putMetadata(ResultMetadataType.BYTE_SEGMENTS,byteSegments);
      }
      String ecLevel=decoderResult.getECLevel();
      if (ecLevel != null) {
        result.putMetadata(ResultMetadataType.ERROR_CORRECTION_LEVEL,ecLevel);
      }
      results.addElement(result);
    }
 catch (    ReaderException re) {
    }
  }
  if (results.isEmpty()) {
    return EMPTY_RESULT_ARRAY;
  }
 else {
    Result[] resultArray=new Result[results.size()];
    for (int i=0; i < results.size(); i++) {
      resultArray[i]=(Result)results.elementAt(i);
    }
    return resultArray;
  }
}
