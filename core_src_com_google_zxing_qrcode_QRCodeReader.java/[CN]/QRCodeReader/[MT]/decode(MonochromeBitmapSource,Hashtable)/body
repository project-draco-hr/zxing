{
  String text;
  ResultPoint[] points;
  if (hints != null && hints.containsKey(DecodeHintType.PURE_BARCODE)) {
    BitMatrix bits=extractPureBits(image);
    text=Decoder.decode(bits);
    points=NO_POINTS;
  }
 else {
    DetectorResult result=new Detector(image).detect();
    text=Decoder.decode(result.getBits());
    points=result.getPoints();
  }
  return new Result(text,points);
}
