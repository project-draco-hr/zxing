{
  Point cameraResolution=configManager.getCameraResolution();
  if (!useOneShotPreviewCallback) {
    camera.setPreviewCallback(null);
  }
  if (previewHandler != null) {
    Message message=previewHandler.obtainMessage(previewMessage,cameraResolution.x,cameraResolution.y,data);
    Log.v(TAG,"Got preview callback; sending message to decoder");
    message.sendToTarget();
    previewHandler=null;
  }
 else {
    Log.v(TAG,"Got preview callback, but no handler for it");
  }
}
