def compute_exports(exports):
    'Compute a dictionary of exports given one of the parameters\n    to the Export() function or the exports argument to SConscript().'
    (loc, glob) = get_calling_namespaces()
    retval = {}
    try:
        for export in exports:
            if SCons.Util.is_Dict(export):
                retval.update(export)
            else:
                try:
                    retval[export] = loc[export]
                except KeyError:
                    retval[export] = glob[export]
    except KeyError as x:
        raise SCons.Errors.UserError(("Export of non-existent variable '%s'" % x))
    return retval
