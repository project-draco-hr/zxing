def SConscript(self, *ls, **kw):
    if ('build_dir' in kw):
        msg = 'The build_dir keyword has been deprecated; use the variant_dir keyword instead.'
        SCons.Warnings.warn(SCons.Warnings.DeprecatedBuildDirWarning, msg)

    def subst_element(x, subst=self.subst):
        if SCons.Util.is_List(x):
            x = list(map(subst, x))
        else:
            x = subst(x)
        return x
    ls = list(map(subst_element, ls))
    subst_kw = {}
    for (key, val) in kw.items():
        if SCons.Util.is_String(val):
            val = self.subst(val)
        elif SCons.Util.is_List(val):
            result = []
            for v in val:
                if SCons.Util.is_String(v):
                    v = self.subst(v)
                result.append(v)
            val = result
        subst_kw[key] = val
    (files, exports) = self._get_SConscript_filenames(ls, subst_kw)
    subst_kw['exports'] = exports
    return _SConscript(self.fs, *files, **subst_kw)
