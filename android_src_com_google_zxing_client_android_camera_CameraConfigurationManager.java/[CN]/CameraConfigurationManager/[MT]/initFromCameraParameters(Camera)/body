{
  Camera.Parameters parameters=camera.getParameters();
  WindowManager manager=(WindowManager)context.getSystemService(Context.WINDOW_SERVICE);
  Display display=manager.getDefaultDisplay();
  int width=display.getWidth();
  int height=display.getHeight();
  if (width < height) {
    Log.i(TAG,"Display reports portrait orientation; assuming this is incorrect");
    int temp=width;
    width=height;
    height=temp;
  }
  screenResolution=new Point(width,height);
  Log.i(TAG,"Screen resolution: " + screenResolution);
  cameraResolution=findBestPreviewSizeValue(parameters,screenResolution,false);
  Log.i(TAG,"Camera resolution: " + cameraResolution);
}
