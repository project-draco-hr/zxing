{
  contents=intent.getStringExtra(Intent.EXTRA_TEXT);
  if (contents == null) {
    return false;
  }
  contents=contents.trim();
  if (contents.length() == 0) {
    return false;
  }
  format=BarcodeFormat.QR_CODE;
  if (intent.hasExtra(Intent.EXTRA_SUBJECT)) {
    displayContents=intent.getStringExtra(Intent.EXTRA_SUBJECT);
  }
 else   if (intent.hasExtra(Intent.EXTRA_TITLE)) {
    displayContents=intent.getStringExtra(Intent.EXTRA_TITLE);
  }
 else {
    displayContents=contents;
  }
  title=activity.getString(R.string.contents_text);
  return true;
}
