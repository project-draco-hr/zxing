{
  String theContents=intent.getStringExtra(Intent.EXTRA_TEXT);
  if (theContents == null) {
    return false;
  }
  theContents=theContents.trim();
  if (theContents.length() == 0) {
    return false;
  }
  contents=theContents;
  format=BarcodeFormat.QR_CODE;
  if (intent.hasExtra(Intent.EXTRA_SUBJECT)) {
    displayContents=intent.getStringExtra(Intent.EXTRA_SUBJECT);
  }
 else   if (intent.hasExtra(Intent.EXTRA_TITLE)) {
    displayContents=intent.getStringExtra(Intent.EXTRA_TITLE);
  }
 else {
    displayContents=contents;
  }
  title=activity.getString(R.string.contents_text);
  return true;
}
