{
  if (top < 0 || left < 0) {
    throw new IllegalArgumentException("left and top must be nonnegative");
  }
  if (height < 1 || width < 1) {
    throw new IllegalArgumentException("height and width must be at least 1");
  }
  int right=left + width;
  int bottom=top + height;
  if (bottom > dimension || right > dimension) {
    throw new IllegalArgumentException("top + height and left + width must be <= matrix dimension");
  }
  for (int y=top; y < bottom; y++) {
    int yoffset=dimension * y;
    for (int x=left; x < right; x++) {
      int xoffset=yoffset + x;
      bits[xoffset >> 5]|=1 << (xoffset & 0x1F);
    }
  }
}
