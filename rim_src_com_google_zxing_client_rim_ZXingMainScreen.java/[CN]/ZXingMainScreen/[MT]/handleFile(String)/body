{
  if (path.endsWith(".jpg") && path.indexOf("IMG") >= 0) {
    app.requestForeground();
    try {
      FileConnection file=null;
      InputStream is=null;
      Image capturedImage;
      try {
        file=(FileConnection)Connector.open("file://" + path);
        is=file.openInputStream();
        capturedImage=Image.createImage(is);
      }
  finally {
        if (is != null) {
          try {
            is.close();
          }
 catch (          IOException ioe) {
          }
        }
        if (file != null) {
          try {
            file.close();
          }
 catch (          IOException ioe) {
          }
        }
      }
      MonochromeBitmapSource source=new LCDUIImageMonochromeBitmapSource(capturedImage);
      Reader reader=new MultiFormatReader();
      Result result=reader.decode(source);
      try {
        file.delete();
      }
 catch (      IOException ioe) {
      }
      showMessage(result.getText());
    }
 catch (    IOException ioe) {
      showMessage(ioe.getMessage());
    }
catch (    ReaderException re) {
      showMessage("Sorry, no barcode was found.");
    }
  }
}
