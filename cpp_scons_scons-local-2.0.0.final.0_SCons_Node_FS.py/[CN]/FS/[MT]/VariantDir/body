def VariantDir(self, variant_dir, src_dir, duplicate=1):
    'Link the supplied variant directory to the source directory\n        for purposes of building files.'
    if (not isinstance(src_dir, SCons.Node.Node)):
        src_dir = self.Dir(src_dir)
    if (not isinstance(variant_dir, SCons.Node.Node)):
        variant_dir = self.Dir(variant_dir)
    if src_dir.is_under(variant_dir):
        raise SCons.Errors.UserError('Source directory cannot be under variant directory.')
    if variant_dir.srcdir:
        if (variant_dir.srcdir == src_dir):
            return
        raise SCons.Errors.UserError(("'%s' already has a source directory: '%s'." % (variant_dir, variant_dir.srcdir)))
    variant_dir.link(src_dir, duplicate)
