def do_duplicate(self, src):
    self._createDir()
    Unlink(self, None, None)
    e = Link(self, src, None)
    if isinstance(e, SCons.Errors.BuildError):
        desc = ("Cannot duplicate `%s' in `%s': %s." % (src.path, self.dir.path, e.errstr))
        raise SCons.Errors.StopError(desc)
    self.linked = 1
    self.clear()
