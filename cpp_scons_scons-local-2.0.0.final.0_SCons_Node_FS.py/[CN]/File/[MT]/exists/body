def exists(self):
    try:
        return self._memo['exists']
    except KeyError:
        pass
    if (self.duplicate and (not self.is_derived()) and (not self.linked)):
        src = self.srcnode()
        if (src is not self):
            src = src.rfile()
            if (src.abspath != self.abspath):
                if src.exists():
                    self.do_duplicate(src)
                else:
                    if (Base.exists(self) or self.islink()):
                        self.fs.unlink(self.path)
                    self._memo['exists'] = None
                    return None
    result = Base.exists(self)
    self._memo['exists'] = result
    return result
