def rel_path(self, other):
    'Return a path to "other" relative to this directory.\n        '
    try:
        memo_dict = self._memo['rel_path']
    except KeyError:
        memo_dict = {}
        self._memo['rel_path'] = memo_dict
    else:
        try:
            return memo_dict[other]
        except KeyError:
            pass
    if (self is other):
        result = '.'
    elif (not (other in self.path_elements)):
        try:
            other_dir = other.get_dir()
        except AttributeError:
            result = str(other)
        else:
            if (other_dir is None):
                result = other.name
            else:
                dir_rel_path = self.rel_path(other_dir)
                if (dir_rel_path == '.'):
                    result = other.name
                else:
                    result = ((dir_rel_path + os.sep) + other.name)
    else:
        i = (self.path_elements.index(other) + 1)
        path_elems = ((['..'] * (len(self.path_elements) - i)) + [n.name for n in other.path_elements[i:]])
        result = os.sep.join(path_elems)
    memo_dict[other] = result
    return result
