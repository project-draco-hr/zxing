{
  Looper.prepare();
  handler=new Handler(){
    @Override public void handleMessage(    Message message){
switch (message.what) {
case R.id.decode:
        captureAndDecode();
      break;
case R.id.save:
    captureAndSave();
  break;
case R.id.quit:
Looper.myLooper().quit();
break;
case R.id.set_decode_all_mode:
setDecodeAllMode();
break;
case R.id.set_decode_1D_mode:
setDecode1DMode();
break;
case R.id.set_decode_QR_mode:
setDecodeQRMode();
break;
case R.id.toggle_tracing:
tracing=!tracing;
break;
}
}
}
;
Looper.loop();
}
