def msvc_batch_key(action, env, target, source):
    '\n    Returns a key to identify unique batches of sources for compilation.\n\n    If batching is enabled (via the $MSVC_BATCH setting), then all\n    target+source pairs that use the same action, defined by the same\n    environment, and have the same target and source directories, will\n    be batched.\n\n    Returning None specifies that the specified target+source should not\n    be batched with other compilations.\n    '
    b = env.subst('$MSVC_BATCH')
    if (b in (None, '', '0')):
        return None
    t = target[0]
    s = source[0]
    if (os.path.splitext(t.name)[0] != os.path.splitext(s.name)[0]):
        return None
    return (id(action), id(env), t.dir, s.dir)
