{
  StringBuffer result=new StringBuffer(50);
  result.append("http://maps.google.com/?ll=");
  result.append(latitude);
  result.append(',');
  result.append(longitude);
  if (altitude > 0.0f) {
    float altitudeInFeet=altitude * 3.28f;
    int altitudeInKFeet=(int)(altitudeInFeet / 1000.0f);
    int logBaseTwo=0;
    while (altitudeInKFeet > 1 && logBaseTwo < 18) {
      altitudeInKFeet>>=1;
      logBaseTwo++;
    }
    int zoom=19 - logBaseTwo;
    result.append("&z=");
    result.append(zoom);
  }
  return result.toString();
}
