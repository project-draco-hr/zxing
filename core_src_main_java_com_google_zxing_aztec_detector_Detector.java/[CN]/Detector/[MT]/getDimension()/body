{
  if (compact) {
    return 4 * nbLayers + 11;
  }
  if (nbLayers <= 4) {
    return 4 * nbLayers + 15;
  }
  return 4 * nbLayers + 2 * ((nbLayers - 4) / 8 + 1) + 15;
}
