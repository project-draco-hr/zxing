{
{
    QRCode qrCode=new QRCode();
    String expected="<<\n" + " mode: UNDEFINED\n" + " ecLevel: null\n"+ " version: -1\n"+ " matrixWidth: -1\n"+ " maskPattern: -1\n"+ " numTotalBytes: -1\n"+ " numDataBytes: -1\n"+ " numECBytes: -1\n"+ " numRSBlocks: -1\n"+ " matrix: null\n"+ ">>\n";
    assertEquals(expected,qrCode.toString());
  }
{
    String expected="<<\n" + " mode: 8BIT_BYTE\n" + " ecLevel: H\n"+ " version: 1\n"+ " matrixWidth: 21\n"+ " maskPattern: 3\n"+ " numTotalBytes: 26\n"+ " numDataBytes: 9\n"+ " numECBytes: 17\n"+ " numRSBlocks: 1\n"+ " matrix:\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ " 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1\n"+ " 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0\n"+ ">>\n";
    QRCode qrCode=new QRCode();
    qrCode.setMode(QRCode.MODE_8BIT_BYTE);
    qrCode.setECLevel(ErrorCorrectionLevel.H);
    qrCode.setVersion(1);
    qrCode.setMatrixWidth(21);
    qrCode.setMaskPattern(3);
    qrCode.setNumTotalBytes(26);
    qrCode.setNumDataBytes(9);
    qrCode.setNumECBytes(17);
    qrCode.setNumRSBlocks(1);
    ByteMatrix matrix=new ByteMatrix(21,21);
    for (int y=0; y < 21; ++y) {
      for (int x=0; x < 21; ++x) {
        matrix.set(y,x,(y + x) % 2);
      }
    }
    qrCode.setMatrix(matrix);
    assertTrue(qrCode.isValid());
    assertEquals(expected,qrCode.toString());
  }
}
