{
  Date startDate=new Date();
  Bitmap bitmap=cameraManager.captureStill();
  Message restart=Message.obtain(cameraThreadHandler,R.id.decode_started);
  restart.sendToTarget();
  if (tracing) {
    Debug.startMethodTracing("/sdcard/ZXingDecodeThread" + methodTraceCount);
    methodTraceCount++;
  }
  boolean success;
  Result rawResult=null;
  try {
    MonochromeBitmapSource source=new RGBMonochromeBitmapSource(bitmap);
    rawResult=new MultiFormatReader().decode(source,hints);
    success=true;
  }
 catch (  ReaderException e) {
    success=false;
  }
  if (tracing) {
    Debug.stopMethodTracing();
  }
  Date endDate=new Date();
  if (success) {
    Message message=Message.obtain(cameraThreadHandler,R.id.decode_succeeded,rawResult);
    message.arg1=(int)(endDate.getTime() - startDate.getTime());
    message.sendToTarget();
  }
 else {
    Message message=Message.obtain(cameraThreadHandler,R.id.decode_failed);
    message.sendToTarget();
  }
}
