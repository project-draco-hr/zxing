def add_dependency(self, depend):
    'Adds dependencies.'
    try:
        self._add_child(self.depends, self.depends_set, depend)
    except TypeError as e:
        e = e.args[0]
        if SCons.Util.is_List(e):
            s = list(map(str, e))
        else:
            s = str(e)
        raise SCons.Errors.UserError(('attempted to add a non-Node dependency to %s:\n\t%s is a %s, not a Node' % (str(self), s, type(e))))
