def generate(env):
    from SCons.Script import AddOption
    global added
    if (not added):
        added = 1
        AddOption('--package-type', dest='package_type', default=None, type='string', action='store', help='The type of package to create.')
    try:
        env['BUILDERS']['Package']
        env['BUILDERS']['Tag']
    except KeyError:
        env['BUILDERS']['Package'] = Package
        env['BUILDERS']['Tag'] = Tag
