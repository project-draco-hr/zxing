{
  RSSExpandedReader rssExpandedReader=new RSSExpandedReader();
  BufferedImage image=ImageIO.read(new File(path));
  BinaryBitmap binaryMap=new BinaryBitmap(new GlobalHistogramBinarizer(new BufferedImageLuminanceSource(image)));
  int rowNumber=binaryMap.getHeight() / 2;
  BitArray row=binaryMap.getBlackRow(rowNumber,null);
  Result result=rssExpandedReader.decodeRow(rowNumber,row,new Hashtable());
  assertSame(BarcodeFormat.RSS_EXPANDED,result.getBarcodeFormat());
  assertEquals(expected,result.getText());
}
