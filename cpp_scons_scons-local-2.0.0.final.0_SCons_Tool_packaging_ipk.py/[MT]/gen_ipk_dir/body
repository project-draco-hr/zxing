def gen_ipk_dir(proot, source, env, kw):
    if SCons.Util.is_String(proot):
        proot = env.Dir(proot)
    s_bld = SCons.Builder.Builder(action=build_specfiles)
    spec_target = []
    control = proot.Dir('CONTROL')
    spec_target.append(control.File('control'))
    spec_target.append(control.File('conffiles'))
    spec_target.append(control.File('postrm'))
    spec_target.append(control.File('prerm'))
    spec_target.append(control.File('postinst'))
    spec_target.append(control.File('preinst'))
    s_bld(env, spec_target, source, **kw)
    return proot
