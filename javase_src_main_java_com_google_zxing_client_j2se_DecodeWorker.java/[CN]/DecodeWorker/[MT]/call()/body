{
  int successful=0;
  Path input;
  while ((input=inputs.poll()) != null) {
    if (Files.exists(input)) {
      if (config.isMulti()) {
        Result[] results=decodeMulti(input.toUri(),config.getHints());
        if (results != null) {
          successful++;
          if (config.isDumpResults()) {
            dumpResultMulti(input,results);
          }
        }
      }
 else {
        Result result=decode(input.toUri(),config.getHints());
        if (result != null) {
          successful++;
          if (config.isDumpResults()) {
            dumpResult(input,result);
          }
        }
      }
    }
 else {
      if (decode(input.toUri(),config.getHints()) != null) {
        successful++;
      }
    }
  }
  return successful;
}
