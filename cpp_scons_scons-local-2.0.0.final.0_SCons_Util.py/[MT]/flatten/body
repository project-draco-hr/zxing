def flatten(obj, isinstance=isinstance, StringTypes=StringTypes, SequenceTypes=SequenceTypes, do_flatten=do_flatten):
    'Flatten a sequence to a non-nested list.\n\n    Flatten() converts either a single scalar or a nested sequence\n    to a non-nested list. Note that flatten() considers strings\n    to be scalars instead of sequences like Python would.\n    '
    if (isinstance(obj, StringTypes) or (not isinstance(obj, SequenceTypes))):
        return [obj]
    result = []
    for item in obj:
        if (isinstance(item, StringTypes) or (not isinstance(item, SequenceTypes))):
            result.append(item)
        else:
            do_flatten(item, result)
    return result
