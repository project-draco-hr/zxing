def CheckBuilder(context, text=None, language=None):
    '\n    Configure check to see if the compiler works.\n    Note that this uses the current value of compiler and linker flags, make\n    sure $CFLAGS, $CPPFLAGS and $LIBS are set correctly.\n    "language" should be "C" or "C++" and is used to select the compiler.\n    Default is "C".\n    "text" may be used to specify the code to be build.\n    Returns an empty string for success, an error message for failure.\n    '
    (lang, suffix, msg) = _lang2suffix(language)
    if msg:
        context.Display(('%s\n' % msg))
        return msg
    if (not text):
        text = '\nint main() {\n    return 0;\n}\n'
    context.Display(('Checking if building a %s file works... ' % lang))
    ret = context.BuildProg(text, suffix)
    _YesNoResult(context, ret, None, text)
    return ret
