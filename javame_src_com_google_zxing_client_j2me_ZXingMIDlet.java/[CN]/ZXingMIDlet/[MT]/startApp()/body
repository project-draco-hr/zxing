{
  try {
    Image image=Image.createImage("/res/zxing-icon.png");
    Displayable splash=new SplashThread(this,2000,image);
    Display.getDisplay(this).setCurrent(splash);
    resultHistory=new Vector(5);
    history=new Menu(this,"Scan History","Use");
    player=createPlayer();
    player.realize();
    MultimediaManager multimediaManager=buildMultimediaManager();
    multimediaManager.setZoom(player);
    multimediaManager.setExposure(player);
    videoControl=(VideoControl)player.getControl("VideoControl");
    canvas=new VideoCanvas(this);
    canvas.setFullScreenMode(true);
    videoControl.initDisplayMode(VideoControl.USE_DIRECT_VIDEO,canvas);
    videoControl.setDisplayLocation(0,0);
    videoControl.setDisplaySize(canvas.getWidth(),canvas.getHeight());
  }
 catch (  IOException ioe) {
    throw new MIDletStateChangeException(ioe.toString());
  }
catch (  MediaException me) {
    throw new MIDletStateChangeException(me.toString());
  }
  confirmation=new Alert(null);
  confirmation.setType(AlertType.CONFIRMATION);
  confirmation.setTimeout(ALERT_TIMEOUT_MS);
  Command yes=new Command("Yes",Command.OK,1);
  confirmation.addCommand(yes);
  Command no=new Command("No",Command.CANCEL,1);
  confirmation.addCommand(no);
  alert=new Alert(null);
  alert.setTimeout(ALERT_TIMEOUT_MS);
}
