def DviPdfPsFunction(XXXDviAction, target=None, source=None, env=None):
    'A builder for DVI files that sets the TEXPICTS environment\n       variable before running dvi2ps or dvipdf.'
    try:
        abspath = source[0].attributes.path
    except AttributeError:
        abspath = ''
    saved_env = SCons.Scanner.LaTeX.modify_env_var(env, 'TEXPICTS', abspath)
    result = XXXDviAction(target, source, env)
    if (saved_env is _null):
        try:
            del env['ENV']['TEXPICTS']
        except KeyError:
            pass
    else:
        env['ENV']['TEXPICTS'] = saved_env
    return result
