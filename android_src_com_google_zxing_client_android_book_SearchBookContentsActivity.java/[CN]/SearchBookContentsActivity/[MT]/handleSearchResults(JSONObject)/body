{
  try {
    int count=json.getInt("number_of_results");
    headerView.setText("Found " + (count == 1 ? "1 result" : count + " results"));
    if (count > 0) {
      JSONArray results=json.getJSONArray("search_results");
      SearchBookContentsResult.setQuery(queryTextView.getText().toString());
      List<SearchBookContentsResult> items=new ArrayList<SearchBookContentsResult>(count);
      for (int x=0; x < count; x++) {
        items.add(parseResult(results.getJSONObject(x)));
      }
      resultListView.setOnItemClickListener(new BrowseBookListener(this,items));
      resultListView.setAdapter(new SearchBookContentsAdapter(this,items));
    }
 else {
      String searchable=json.optString("searchable");
      if ("false".equals(searchable)) {
        headerView.setText(R.string.msg_sbc_book_not_searchable);
      }
      resultListView.setAdapter(null);
    }
  }
 catch (  JSONException e) {
    Log.e(TAG,e.toString());
    resultListView.setAdapter(null);
    headerView.setText(R.string.msg_sbc_failed);
  }
}
