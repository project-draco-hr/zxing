{
  int[] start=findAsteriskPattern(row);
  int nextStart=start[1];
  int end=row.getSize();
  while (nextStart < end && !row.get(nextStart)) {
    nextStart++;
  }
  StringBuffer result=new StringBuffer();
  int[] counters=new int[9];
  char decodedChar;
  int lastStart;
  do {
    recordPattern(row,nextStart,counters);
    int pattern=toNarrowWidePattern(counters);
    decodedChar=patternToChar(pattern);
    result.append(decodedChar);
    lastStart=nextStart;
    for (int i=0; i < counters.length; i++) {
      nextStart+=counters[i];
    }
    while (nextStart < end && !row.get(nextStart)) {
      nextStart++;
    }
  }
 while (decodedChar != '*');
  result.deleteCharAt(result.length() - 1);
  if (usingCheckDigit) {
    int max=result.length() - 1;
    int total=0;
    for (int i=0; i < max; i++) {
      total+=ALPHABET_STRING.indexOf(result.charAt(i));
    }
    if (total % 43 != ALPHABET_STRING.indexOf(result.charAt(max))) {
      throw new ReaderException("Checksum failed");
    }
    result.deleteCharAt(max);
  }
  String resultString=result.toString();
  if (extendedMode) {
    resultString=decodeExtended(resultString);
  }
  if (resultString.length() == 0) {
    throw new ReaderException("Empty barcode found; assuming a false positive");
  }
  float left=(float)(start[1] + start[0]) / 2.0f;
  float right=(float)(nextStart + lastStart) / 2.0f;
  return new Result(resultString,null,new ResultPoint[]{new GenericResultPoint(left,(float)rowNumber),new GenericResultPoint(right,(float)rowNumber)},BarcodeFormat.CODE_39);
}
