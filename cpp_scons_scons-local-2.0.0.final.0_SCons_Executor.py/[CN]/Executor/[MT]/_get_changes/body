def _get_changes(self):
    cs = []
    ct = []
    us = []
    ut = []
    for b in self.batches:
        if b.targets[0].is_up_to_date():
            us.extend(list(map(rfile, b.sources)))
            ut.extend(b.targets)
        else:
            cs.extend(list(map(rfile, b.sources)))
            ct.extend(b.targets)
    self._changed_sources_list = SCons.Util.NodeList(cs)
    self._changed_targets_list = SCons.Util.NodeList(ct)
    self._unchanged_sources_list = SCons.Util.NodeList(us)
    self._unchanged_targets_list = SCons.Util.NodeList(ut)
