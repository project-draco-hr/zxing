{
  if (!wifiManager.isWifiEnabled()) {
    wifiManager.setWifiEnabled(true);
  }
  NetworkType networkType=NetworkType.forIntentValue(networkTypeString);
  if (networkType == NetworkType.NO_PASSWORD) {
    changeNetworkUnEncrypted(wifiManager,ssid);
  }
 else {
    if (password == null || password.length() == 0) {
      throw new IllegalArgumentException();
    }
    if (networkType == NetworkType.WEP) {
      changeNetworkWEP(wifiManager,ssid,password);
    }
 else     if (networkType == NetworkType.WPA) {
      changeNetworkWPA(wifiManager,ssid,password);
    }
  }
}
