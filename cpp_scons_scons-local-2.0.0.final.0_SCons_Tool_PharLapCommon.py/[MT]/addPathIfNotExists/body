def addPathIfNotExists(env_dict, key, path, sep=os.pathsep):
    "This function will take 'key' out of the dictionary\n    'env_dict', then add the path 'path' to that key if it is not\n    already there.  This treats the value of env_dict[key] as if it\n    has a similar format to the PATH variable...a list of paths\n    separated by tokens.  The 'path' will get added to the list if it\n    is not already there."
    try:
        is_list = 1
        paths = env_dict[key]
        if (not SCons.Util.is_List(env_dict[key])):
            paths = paths.split(sep)
            is_list = 0
        if (os.path.normcase(path) not in list(map(os.path.normcase, paths))):
            paths = ([path] + paths)
        if is_list:
            env_dict[key] = paths
        else:
            env_dict[key] = sep.join(paths)
    except KeyError:
        env_dict[key] = path
