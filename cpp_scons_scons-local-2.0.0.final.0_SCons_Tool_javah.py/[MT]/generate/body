def generate(env):
    'Add Builders and construction variables for javah to an Environment.'
    java_javah = SCons.Tool.CreateJavaHBuilder(env)
    java_javah.emitter = emit_java_headers
    env['_JAVAHOUTFLAG'] = JavaHOutFlagGenerator
    env['JAVAH'] = 'javah'
    env['JAVAHFLAGS'] = SCons.Util.CLVar('')
    env['_JAVAHCLASSPATH'] = getJavaHClassPath
    env['JAVAHCOM'] = '$JAVAH $JAVAHFLAGS $_JAVAHOUTFLAG $_JAVAHCLASSPATH ${SOURCES.attributes.java_classname}'
    env['JAVACLASSSUFFIX'] = '.class'
