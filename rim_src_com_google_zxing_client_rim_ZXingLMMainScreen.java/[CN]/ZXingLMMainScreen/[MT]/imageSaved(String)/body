{
  Log.info("Image saved: " + imagePath);
  app.removeFileSystemJournalListener(imageListener);
  if (imagePath.endsWith(".jpg") && imagePath.indexOf("IMG") >= 0) {
    Log.info("imageSaved - Got file: " + imagePath);
    Camera.getInstance().exit();
    Log.info("camera exit finished");
    app.requestForeground();
    DialogFieldManager manager=new DialogFieldManager();
    popup=new PopupScreen(manager);
    manager.addCustomField(new LabelField("Decoding image..."));
    app.pushScreen(popup);
    Log.info("started progress screen.");
    Runnable fct=new FileConnectionThread(imagePath);
    Log.info("Starting file connection thread.");
    app.invokeLater(fct);
    Log.info("Finished file connection thread.");
  }
 else {
    Log.error("Failed to locate camera image.");
  }
}
