{
  if (parsedFormatInfo != null) {
    return parsedFormatInfo;
  }
  int formatInfoBits=0;
  for (int j=0; j < 6; j++) {
    formatInfoBits=copyBit(8,j,formatInfoBits);
  }
  formatInfoBits=copyBit(8,7,formatInfoBits);
  formatInfoBits=copyBit(8,8,formatInfoBits);
  formatInfoBits=copyBit(7,8,formatInfoBits);
  for (int i=5; i >= 0; i--) {
    formatInfoBits=copyBit(i,8,formatInfoBits);
  }
  parsedFormatInfo=FormatInformation.decodeFormatInformation(formatInfoBits);
  if (parsedFormatInfo != null) {
    return parsedFormatInfo;
  }
  int dimension=bitMatrix.getDimension();
  formatInfoBits=0;
  int iMin=dimension - 8;
  for (int i=dimension - 1; i >= iMin; i--) {
    formatInfoBits=copyBit(i,8,formatInfoBits);
  }
  for (int j=dimension - 7; j < dimension; j++) {
    formatInfoBits=copyBit(8,j,formatInfoBits);
  }
  parsedFormatInfo=FormatInformation.decodeFormatInformation(formatInfoBits);
  if (parsedFormatInfo != null) {
    return parsedFormatInfo;
  }
  throw ReaderException.getInstance();
}
