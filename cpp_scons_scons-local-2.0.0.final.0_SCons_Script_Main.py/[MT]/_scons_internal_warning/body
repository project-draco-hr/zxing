def _scons_internal_warning(e):
    'Slightly different from _scons_user_warning in that we use the\n    *current call stack* rather than sys.exc_info() to get our stack trace.\n    This is used by the warnings framework to print warnings.'
    (filename, lineno, routine, dummy) = find_deepest_user_frame(traceback.extract_stack())
    sys.stderr.write(('\nscons: warning: %s\n' % e.args[0]))
    sys.stderr.write(('File "%s", line %d, in %s\n' % (filename, lineno, routine)))
