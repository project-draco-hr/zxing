{
  bits.AppendBits(version,6);
  final int bch_code=MatrixUtil.CalculateBCHCode(version,kVersionInfoPoly);
  bits.AppendBits(bch_code,12);
  if (bits.size() != 18) {
    Debug.LOG_ERROR("should not happen but we got: " + bits.size());
    return false;
  }
  return true;
}
