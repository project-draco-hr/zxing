{
  if (setting.getSsid() == null || setting.getSsid().length() == 0) {
    return doError(R.string.wifi_ssid_missing);
  }
  if (setting.getNetworkType() == NetworkType.NETWORK_INVALID) {
    return doError(R.string.wifi_type_incorrect);
  }
  if (setting.getPassword() == null || setting.getPassword().length() == 0 || setting.getNetworkType() == null || setting.getNetworkType() == NetworkType.NETWORK_NOPASS) {
    return changeNetworkUnEncrypted(setting);
  }
  if (setting.getNetworkType() == NetworkType.NETWORK_WPA) {
    return changeNetworkWPA(setting);
  }
 else {
    return changeNetworkWEP(setting);
  }
}
