{
  super.onCreate(savedInstanceState);
  Intent intent=getIntent();
  if (intent == null || (!intent.getAction().equals(Intents.WifiConnect.ACTION))) {
    finish();
    return;
  }
  String ssid=intent.getStringExtra(Intents.WifiConnect.SSID);
  String password=intent.getStringExtra(Intents.WifiConnect.PASSWORD);
  String networkType=intent.getStringExtra(Intents.WifiConnect.TYPE);
  NetworkType networkT=null;
  if (networkType.contains("WPA")) {
    networkT=NetworkType.NETWORK_WPA;
  }
 else   if (networkType.contains("WEP")) {
    networkT=NetworkType.NETWORK_WEP;
  }
 else {
    finish();
    return;
  }
  setContentView(R.layout.network);
  statusT=(TextView)findViewById(R.id.networkStatus);
  mWifiManager=(WifiManager)this.getSystemService(Context.WIFI_SERVICE);
  rec=new ConnectedReceiver(this);
  registerReceiver(rec,new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));
  if (password == null)   password="";
  if (debug) {
    Log.d(tag,"adding new configuration: \nSSID: " + ssid + "\nPassword: \""+ password+ "\"\nType: "+ networkT);
  }
  NetworkSetting setting=new NetworkSetting(ssid,password,networkT);
  changeNetwork(setting);
}
