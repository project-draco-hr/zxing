{
  WifiConfiguration config=changeNetworkCommon(input);
  if (NetworkUtil.isHexWepKey(input.getPassword())) {
    config.wepKeys[0]=input.getPassword();
  }
 else {
    config.wepKeys[0]=NetworkUtil.convertToQuotedString(input.getPassword());
  }
  config.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.SHARED);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);
  config.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);
  config.wepTxKeyIndex=0;
  return requestNetworkChange(config);
}
