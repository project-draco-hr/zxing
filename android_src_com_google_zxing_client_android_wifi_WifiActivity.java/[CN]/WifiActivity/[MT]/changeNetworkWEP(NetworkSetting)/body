{
  final WifiConfiguration config=changeNetworkCommon(input);
  final String pass=input.getPassword();
  if (NetworkUtil.isHexWepKey(pass)) {
    config.wepKeys[0]=pass;
  }
 else {
    config.wepKeys[0]=NetworkUtil.convertToQuotedString(pass);
  }
  config.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.SHARED);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);
  config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);
  config.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);
  config.wepTxKeyIndex=0;
  return requestNetworkChange(config);
}
