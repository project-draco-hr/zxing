def getExecScriptMain(env, xml=None):
    scons_home = env.get('SCONS_HOME')
    if ((not scons_home) and ('SCONS_LIB_DIR' in os.environ)):
        scons_home = os.environ['SCONS_LIB_DIR']
    if scons_home:
        exec_script_main = ("from os.path import join; import sys; sys.path = [ r'%s' ] + sys.path; import SCons.Script; SCons.Script.main()" % scons_home)
    else:
        version = SCons.__version__
        exec_script_main = ("from os.path import join; import sys; sys.path = [ join(sys.prefix, 'Lib', 'site-packages', 'scons-%(version)s'), join(sys.prefix, 'scons-%(version)s'), join(sys.prefix, 'Lib', 'site-packages', 'scons'), join(sys.prefix, 'scons') ] + sys.path; import SCons.Script; SCons.Script.main()" % locals())
    if xml:
        exec_script_main = xmlify(exec_script_main)
    return exec_script_main
