{
  int numDataBytes=dataBytes.length;
  int[] toEncode=new int[numDataBytes + numEcBytesInBlock];
  for (int i=0; i < numDataBytes; i++) {
    toEncode[i]=dataBytes[i] & 0xFF;
  }
  new ReedSolomonEncoder(GF256.QR_CODE_FIELD).encode(toEncode,numEcBytesInBlock);
  byte[] ecBytes=new byte[numEcBytesInBlock];
  for (int i=0; i < numEcBytesInBlock; i++) {
    ecBytes[i]=(byte)toEncode[numDataBytes + i];
  }
  return ecBytes;
}
