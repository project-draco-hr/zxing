{
  int numDataBytes=data_bytes.size();
  int[] toEncode=new int[numDataBytes + num_ec_bytes_in_block];
  for (int i=0; i < numDataBytes; i++) {
    toEncode[i]=data_bytes.at(i);
  }
  new ReedSolomonEncoder(GF256.QR_CODE_FIELD).encode(toEncode,num_ec_bytes_in_block);
  ByteArray ec_bytes=new ByteArray(num_ec_bytes_in_block);
  for (int i=0; i < num_ec_bytes_in_block; i++) {
    ec_bytes.set(i,toEncode[numDataBytes + i]);
  }
  return ec_bytes;
}
