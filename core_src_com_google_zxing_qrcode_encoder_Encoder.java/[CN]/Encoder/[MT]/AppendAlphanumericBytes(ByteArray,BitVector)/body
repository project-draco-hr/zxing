{
  for (int i=0; i < bytes.size(); ) {
    final int code1=GetAlphanumericCode(bytes.at(i));
    if (code1 == -1) {
      throw new WriterException();
    }
    if (i + 1 < bytes.size()) {
      final int code2=GetAlphanumericCode(bytes.at(i + 1));
      if (code2 == -1) {
        throw new WriterException();
      }
      bits.appendBits(code1 * 45 + code2,11);
      i+=2;
    }
 else {
      bits.appendBits(code1,6);
      ++i;
    }
  }
}
